#raft协议概念
## 节点概念
- 主节点
- 从节点

## 节点状态
- 主节点状态
- 从节点状态
- 候选状态

## 选举触发
- 每个节点都有一个计时器，超时即会由从节点状态进入候选状态
- 主节点会发送心跳给每个从节点，重置每个节点计时器，避免超时。当从节点接不到心跳信号，计时器超时。
- 获得超过半数投票，就会变成主节点（每个节点在一轮选举只能投一次),如果本轮投票失败，等待下一个节点计时器超时

## 数据复制
- 主节点接收到变更，entry加入到Leader节点，此时entry的状态是未提交状态（uncommitted）
- 主节点将entry复制给所有从节点，直到从节点复制完毕，提交entry，通知所有节点committed __[等大部分复制完成与通知所有节点commit矛盾]__

## 异常情况
- 多个节点网络原因，变成两个小集群，恢复后，数据如何保持一致性